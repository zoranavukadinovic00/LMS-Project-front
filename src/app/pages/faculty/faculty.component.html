<div class="page-container">
  <div *ngIf="faculty && !loading && !error">
    <h1>{{ faculty.name }}</h1>

    <div class="page-content">
      <div class="faculty-info">
        <div class="info-grid">
          <div class="info-item">
            <strong>Address:</strong>
            <span *ngIf="faculty.address; else noAddress">{{ faculty.address }}</span>
            <ng-template #noAddress>
              <span class="no-data">Not available</span>
            </ng-template>
          </div>

          <div class="info-item">
            <strong>Contact:</strong>
            <div *ngIf="faculty.contact; else noContact" class="contact-info">
              <div *ngFor="let line of formatContact(faculty.contact)" class="contact-line">
                {{ line }}
              </div>
            </div>
            <ng-template #noContact>
              <span class="no-data">Not available</span>
            </ng-template>
          </div>

          <div class="info-item">
            <strong>University:</strong>
            <span *ngIf="faculty.universityId; else noUniversity">
              <a [routerLink]="['/university', faculty.universityId]" class="university-link">
                View university
              </a>
            </span>
            <ng-template #noUniversity>
              <span class="no-data">Not available</span>
            </ng-template>
          </div>

          <div class="info-item">
            <strong>Dean:</strong>
            <span *ngIf="faculty.deanName; else noDean">
              {{ faculty.deanName }}
              <span *ngIf="isValidEmail(faculty.deanEmail)" class="dean-email">
                (<a href="mailto:{{ faculty.deanEmail }}">{{ faculty.deanEmail }}</a>)
              </span>
            </span>
            <ng-template #noDean>
              <span class="no-data">Not available</span>
            </ng-template>
          </div>
        </div>
      </div>

      <div *ngIf="faculty.addressDetails" class="details-section">
        <h2>Detailed address information</h2>
        <div class="detail-card">
          <div class="detail-grid">
            <div class="detail-item">
              <strong>Street:</strong>
              <span>{{ faculty.addressDetails.street || 'N/A' }}</span>
            </div>
            <div class="detail-item">
              <strong>Number:</strong>
              <span>{{ faculty.addressDetails.number || 'N/A' }}</span>
            </div>
            <div class="detail-item">
              <strong>City:</strong>
              <span>{{ faculty.addressDetails.city || 'N/A' }}</span>
            </div>
            <div class="detail-item">
              <strong>Country:</strong>
              <span>{{ faculty.addressDetails.country || 'N/A' }}</span>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="faculty.deanDetails" class="details-section">
        <h2>Dean information</h2>
        <div class="detail-card">
          <div class="detail-grid">
            <div class="detail-item">
              <strong>Full name:</strong>
              <span>{{ faculty.deanDetails.fullName || 'N/A' }}</span>
            </div>
            <div class="detail-item">
              <strong>Email:</strong>
              <span *ngIf="isValidEmail(faculty.deanDetails.email); else noEmail">
                <a href="mailto:{{ faculty.deanDetails.email }}">{{ faculty.deanDetails.email }}</a>
              </span>
              <ng-template #noEmail>
                <span class="no-data">Not available</span>
              </ng-template>
            </div>
          </div>
        </div>
      </div>

      <div class="details-section">
        <h2>Faculty description</h2>
        <div class="description">
          <p *ngIf="faculty.description; else noDescription">{{ faculty.description }}</p>
          <ng-template #noDescription>
            <p class="no-data">Description not available.</p>
          </ng-template>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="loading" class="loading">
    <div class="spinner"></div>
    <p>Loading faculty information...</p>
  </div>

  <div *ngIf="error && !loading" class="error-container">
    <div class="error-message">
      <h2>An error occurred</h2>
      <p>{{ error }}</p>
      <button class="retry-button" (click)="loadFacultyData()" type="button">
        Try again
      </button>
    </div>
  </div>
</div>
